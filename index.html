<!DOCTYPE html>
<html lang="en" ng-app="fluid.webComponents">
<head>
    <meta charset="UTF-8">
    <title>Fluid Web Components</title>
    <link href="dist/css/web-components.min.css" rel="stylesheet">
    <link href="bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="bower_components/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet">
</head>
<body ng-controller="sampleCtrl as sample">
<div class="container" style="margin-top:50px">
    <div class="form-group">
        <fluid-select info class="pull-right" values="5,10,15,20"
                      label="Size" ng-model="taskSize"></fluid-select>
        <fluid-pagination ng-model="taskList" limit="taskSize" method="get"
                          source-url="http://localhost:8080/rex-services/services/flow_task_query/sample_tasks">
            <fluid-subtable show-add="false" show-clear="false" success key-var="task" label="Sample Tasks"
                            ng-model="taskList"
                            lookup-template="subtable.template">
                <fluid-subcolumn name="glyph" header="Glyph">
                    <div class="column-row">
                        <i ng-class="task.glyph"></i>
                    </div>
                </fluid-subcolumn>

                <fluid-subcolumn name="name" header="Name">
                    <div class="column-row">
                        {{task.name}}
                    </div>
                    <div class="column-form">
                        <div class="form-group">
                            <label class="control-label">Name</label>
                            <input class="form-control" ng-model="task.name">
                        </div>
                    </div>
                </fluid-subcolumn>

                <fluid-subcolumn sort="false" name="pages" header="Pages">
                    <div class="column-row">
                        <ul class="list-group" style="z-index: 0">
                            <li class="list-group-item" ng-repeat="page in task.pages">
                                {{page.title}}
                            </li>
                        </ul>
                    </div>
                    <div class="column-form">

                    </div>
                </fluid-subcolumn>

            </fluid-subtable>
        </fluid-pagination>

    </div>

    <div class="form-group">
        <fluid-pagination ng-model="taskList2" limit="1" method="get"
                          source-url="http://localhost:8080/rex-services/services/flow_task_query/sample_tasks">
            {{taskList2}}
        </fluid-pagination>

    </div>
    <div class="form-group">
        <fluid-select tag="fluid-select" info class="col-lg-12"
                      source-url="http://localhost:8080/rex-services/factories/war/table_factories/years"
                      label="Years" ng-model="year"></fluid-select>
    </div>
    <div class="form-group">
        <fluid-select tag="fluid-select" info class="col-lg-12"
                      factory="samples" field-label="name" field-value="name"
                      label="Sample" ng-model="sample"></fluid-select>
    </div>
    <div class="form-group">
        <a class="btn" primary fluid-lookup factory="samples" label="Samples" ng-model="selectedSample">
            <i class="fa fa-search"></i>
            <fluid-lookup-table key-var="sampleValue">
                <div class="column-row" header="Name">{{sampleValue.name}}</div>
                <div class="column-row" header="Year">{{sampleValue.year}}</div>
                <fluid-subcomponent tag="div" class="column-row" header="List">
                    <ul style="text-align: left">
                        <li ng-repeat="li in sampleValue.list">
                            {{li.name}}
                        </li>
                    </ul>
                </fluid-subcomponent>
            </fluid-lookup-table>
        </a>
        {{selectedSample}}
    </div>
</div>
<script id="subtable.template" type="text/ng-template">
    <div style="min-height: 100px;width:185px; word-wrap: break-word; font-size: 10px">
        <div><h5>{{gridItem.title}} <i ng-class="gridItem.glyph"></i></h5></div>
        <p>Name: {{gridItem.name}} <br/>Active: <i
                ng-class="gridItem.actice ? 'fa fa-check':'fa fa-close'"></i>
        </p>
    </div>

</script>
<script src="bower_components/jquery/dist/jquery.js" type="text/javascript"></script>
<script src="bower_components/bootstrap/dist/js/bootstrap.js" type="text/javascript"></script>
<script src="bower_components/angular/angular.js" type="text/javascript"></script>
<script src="bower_components/angular-resource/angular-resource.js" type="text/javascript"></script>
<script src="bower_components/angular-filter/dist/angular-filter.min.js" type="text/javascript"></script>
<script src="dist/js/web-components.js" type="text/javascript"></script>
</body>
</html>