<!DOCTYPE html>
<html lang="en" ng-app="fluid.webComponents">
<head>
    <meta charset="UTF-8">
    <title>Fluid Web Components</title>
    <link href="dist/css/web-components.min.css" rel="stylesheet">
    <link href="bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="bower_components/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet">
</head>
<body ng-controller="sampleCtrl as sample">
<div class="container" style="margin-top:50px">
    <div class="form-group">
        <fluid-subtable remove-all="false" success key-var="vd" label="SubTable" ng-model="labelList" factory="samples"
                        lookup-template="subtable.template">
            <fluid-subcolumn name="name" header="Name">
                <div class="column-row">
                    {{vd.name}}
                </div>
                <div class="column-form">
                    <div class="form-group">
                        <label class="control-label" for="label1">
                            Name
                        </label>
                        <input id="label1" class="form-control" ng-model="vd.name" type="text" placeholder="Name">
                    </div>
                </div>
            </fluid-subcolumn>
            <fluid-subcolumn name="year" header="Year">
                <div class="column-row">
                    {{vd.year}}
                </div>
                <div class="column-form">
                    <div class="form-group">
                        <fluid-subcomponent tag="fluid-select" info
                                            source-url="http://localhost:8080/rex-services/factories/war/table_factories/years"
                                            label="Years" ng-model="vd.year"></fluid-subcomponent>
                    </div>
                </div>
            </fluid-subcolumn>
            <fluid-subcolumn name="list" header="List">
                <fluid-subcomponent tag="div" class="column-row">
                    <div ng-repeat="it in vd.list">
                        {{it.name}}
                    </div>
                </fluid-subcomponent>
                <div class="column-form">
                    <fluid-subcomponent tag="fluid-subtable" primary key-var="subVd" label="VD List" ng-model="vd.list"
                                        factory="samples" lookup-template="subtable.template">
                        <fluid-subcolumn tag="fluid-subcolumn" name="name" header="Name">
                            <div class="column-row">
                                {{subVd.name}}
                            </div>
                            <div class="column-form">
                                <div class="form-group">
                                    <label class="control-label">
                                        Name
                                    </label>
                                    <input class="form-control" ng-model="subVd.name" type="text" placeholder="Name">
                                </div>
                            </div>
                        </fluid-subcolumn>
                        <fluid-subcolumn tag="fluid-subcolumn" name="year" header="Year">
                            <div class="column-row">
                                {{subVd.year}}
                            </div>
                            <div class="column-form">
                                <div class="form-group">
                                    <fluid-select primary
                                                  source-url="http://localhost:8080/rex-services/factories/war/table_factories/years"
                                                  label="Years" ng-model="subVd.year"></fluid-select>
                                </div>
                            </div>
                        </fluid-subcolumn>
                        <fluid-subcolumn tag="fluid-subcolumn" name="alist" header="Another List">
                            <div class="column-row">
                                {{subVd.alist}}
                            </div>
                            <div class="column-form">
                                <div class="form-group">
                                    <fluid-subcomponent tag="fluid-subtable" primary key-var="subVda" label="VD List"
                                                        ng-model="subVd.alist"
                                                        factory="samples" lookup-template="subtable.template">
                                        <fluid-subcolumn tag="fluid-subcolumn" name="year" header="Year">
                                            <div class="column-row">
                                                {{subVda.year}}
                                            </div>
                                            <div class="column-form">
                                                <div class="form-group">
                                                    <fluid-select primary
                                                                  source-url="http://localhost:8080/rex-services/factories/war/table_factories/years"
                                                                  label="Years" ng-model="subVda.year"></fluid-select>
                                                </div>
                                            </div>
                                        </fluid-subcolumn>
                                    </fluid-subcomponent>
                                </div>
                            </div>
                        </fluid-subcolumn>
                    </fluid-subcomponent>
                </div>
            </fluid-subcolumn>
        </fluid-subtable>
    </div>
    <div class="form-group">
        <fluid-select tag="fluid-select" info class="col-lg-12"
                      source-url="http://localhost:8080/rex-services/factories/war/table_factories/years"
                      label="Years" ng-model="year"></fluid-select>
    </div>

    <div class="form-group">
        <fluid-select tag="fluid-select" info class="col-lg-12"
                      factory="samples" field-label="name" field-value="name"
                      label="Sample" ng-model="sample"></fluid-select>
    </div>
    <div class="form-group">
        <a class="btn" primary fluid-lookup factory="samples" label="Samples" ng-model="selectedSample">
            <i class="fa fa-search"></i>
            <fluid-lookup-table key-var="sampleValue">
                <div class="column-row" header="Name">{{sampleValue.name}}</div>
                <div class="column-row" header="Year">{{sampleValue.year}}</div>
                <fluid-subcomponent tag="div" class="column-row" header="List">
                    <ul style="text-align: left">
                        <li ng-repeat="li in sampleValue.list">
                            {{li.name}}
                        </li>
                    </ul>
                </fluid-subcomponent>
            </fluid-lookup-table>
        </a>
        {{selectedSample}}
    </div>
</div>
<script id="subtable.template" type="text/ng-template">
    <div style="min-height: 100px;width:185px">
        <div>{{gridItem.name}}</div>
        <div>{{gridItem.year}}</div>
        <div ng-repeat="lis in gridItem.list ">
            {{lis.name}}
        </div>

    </div>

</script>
<script src="bower_components/jquery/dist/jquery.js" type="text/javascript"></script>
<script src="bower_components/bootstrap/dist/js/bootstrap.js" type="text/javascript"></script>
<script src="bower_components/angular/angular.js" type="text/javascript"></script>
<script src="bower_components/angular-filter/dist/angular-filter.min.js" type="text/javascript"></script>
<script src="dist/js/web-components.js" type="text/javascript"></script>
</body>
</html>